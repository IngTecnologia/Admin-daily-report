# Configuración para Cloudflare Tunnel - PRODUCCIÓN
# =====================================================

# CLOUDFLARE TUNNEL
# -----------------
TUNNEL_TOKEN=

# FRONTEND
# --------
NODE_ENV=production
REACT_APP_API_URL=https://api.reportediario.inemec.com/api/v1

# BACKEND API
# -----------
PORT=8001
API_HOST=0.0.0.0

# CORS Origins para subdominios del túnel
CORS_ORIGINS=["https://reportediario2.inemec.com","https://api.reportediario.inemec.com","http://localhost:3000","http://localhost:5173"]

# DATABASE - PostgreSQL
# ---------------------
# Opción 1: URL completa (recomendada para servicios cloud)
DATABASE_URL=postgresql://postgres:your-secure-password@postgres:5432/reportes_diarios

# Opción 2: Componentes individuales
DB_HOST=postgres
DB_PORT=5432
DB_NAME=reportes_diarios
DB_USER=postgres
DB_PASSWORD=your-secure-password

# REDIS
# -----
REDIS_URL=redis://redis:6379/0

# SEGURIDAD - JWT
# ---------------
# Generar con: openssl rand -hex 32
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# SEGURIDAD - Encriptación
# ------------------------
# Generar con: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-encryption-key-change-this-in-production
ENCRYPTION_SALT=your-unique-salt-change-this
ENCRYPTION_PASSWORD=your-encryption-password

# SEGURIDAD - Hashing
# -------------------
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_MIN_LENGTH=8
PASSWORD_HASH_ROUNDS=12

# EMAIL
# -----
EMAIL_SENDER=
EMAIL_PASSWORD=
# Para OAuth con Office365
EMAIL_CLIENT_ID=
EMAIL_CLIENT_SECRET=
EMAIL_TENANT_ID=

# SISTEMA
# -------
PYTHONPATH=/app
LOG_LEVEL=INFO
TIMEZONE=America/Bogota

# LÍMITES
# -------
MAX_REPORTES_PER_ADMIN_PER_DAY=10
MAX_INCIDENCIAS_PER_REPORT=50
MAX_MOVIMIENTOS_PER_REPORT=50

# Rate Limiting
RATE_LIMIT_DEFAULT=100 per minute
RATE_LIMIT_LOGIN=5 per minute
RATE_LIMIT_REGISTER=3 per minute
RATE_LIMIT_CREATE_REPORT=10 per hour

# DIRECTORIOS
# -----------
DATA_DIR=/app/data
LOGS_DIR=/app/logs
BACKUP_DIR=/app/backups

# BACKUPS
# -------
CREATE_BACKUPS=true
BACKUP_FREQUENCY_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=inemec-backups
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# MONITORING (Opcional)
# ---------------------
SENTRY_DSN=
PROMETHEUS_ENABLED=true
GRAFANA_API_KEY=

# FEATURE FLAGS
# -------------
ENABLE_EXCEL_EXPORT=true
ENABLE_PDF_REPORTS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_TWO_FACTOR_AUTH=false

# MODO DEBUG (solo desarrollo)
# -----------------------------
DEBUG_MODE=false
SQL_ECHO=false